{
    "cve_id": "CVE-2020-8908",
    "cwe_ids": [
        "CWE-732"
    ],
    "cvss_vector": "AV:L/AC:L/Au:N/C:P/I:N/A:N",
    "cvss_is_v3": false,
    "repo_name": "google/guava",
    "commit_msg": "Deprecate Files.createTempDir(), noting that better alternatives exist for Android as well as for users running Java 7 or later.\n\nRELNOTES=`io`: Deprecated `Files.createTempDir()`.\n\n-------------\nCreated by MOE: https://github.com/google/moe\nMOE_MIGRATED_REVID=328552787",
    "commit_hash": "fec0dbc4634006a6162cfd4d0d09c962073ddf40",
    "git_url": "https://github.com/google/guava/commit/fec0dbc4634006a6162cfd4d0d09c962073ddf40",
    "file_path": "guava/src/com/google/common/io/Files.java",
    "func_name": "createTempDir",
    "func_before": "@Beta\n  public static File createTempDir() {\n    File baseDir = new File(System.getProperty(\"java.io.tmpdir\"));\n    @SuppressWarnings(\"GoodTime\") // reading system time without TimeSource\n    String baseName = System.currentTimeMillis() + \"-\";\n\n    for (int counter = 0; counter < TEMP_DIR_ATTEMPTS; counter++) {\n      File tempDir = new File(baseDir, baseName + counter);\n      if (tempDir.mkdir()) {\n        return tempDir;\n      }\n    }\n    throw new IllegalStateException(\n        \"Failed to create directory within \"\n            + TEMP_DIR_ATTEMPTS\n            + \" attempts (tried \"\n            + baseName\n            + \"0 to \"\n            + baseName\n            + (TEMP_DIR_ATTEMPTS - 1)\n            + ')');\n  }",
    "abstract_func_before": "@Beta\n  public static File createTempDir() {\n    File VAR_0 = new File(VAR_1.getProperty(\"java.io.tmpdir\"));\n    @SuppressWarnings(\"GoodTime\") /* COMMENT_0 */\n    String VAR_2 = VAR_1.currentTimeMillis() + \"-\";\n\n    for (int VAR_3 = 0; VAR_3 < VAR_4; VAR_3++) {\n      File VAR_5 = new File(VAR_0, VAR_2 + VAR_3);\n      if (VAR_5.mkdir()) {\n        return VAR_5;\n      }\n    }\n    throw new IllegalStateException(\n        \"Failed to create directory within \"\n            + VAR_4\n            + \" attempts (tried \"\n            + VAR_2\n            + \"0 to \"\n            + VAR_2\n            + (VAR_4 - 1)\n            + ')');\n  }",
    "func_graph_path_before": "google/guava/fec0dbc4634006a6162cfd4d0d09c962073ddf40/Files.java/vul/before/0.json",
    "func": "@Beta\n  @Deprecated\n  public static File createTempDir() {\n    File baseDir = new File(System.getProperty(\"java.io.tmpdir\"));\n    @SuppressWarnings(\"GoodTime\") // reading system time without TimeSource\n    String baseName = System.currentTimeMillis() + \"-\";\n\n    for (int counter = 0; counter < TEMP_DIR_ATTEMPTS; counter++) {\n      File tempDir = new File(baseDir, baseName + counter);\n      if (tempDir.mkdir()) {\n        return tempDir;\n      }\n    }\n    throw new IllegalStateException(\n        \"Failed to create directory within \"\n            + TEMP_DIR_ATTEMPTS\n            + \" attempts (tried \"\n            + baseName\n            + \"0 to \"\n            + baseName\n            + (TEMP_DIR_ATTEMPTS - 1)\n            + ')');\n  }",
    "abstract_func": "@Beta\n  @Deprecated\n  public static File createTempDir() {\n    File VAR_0 = new File(VAR_1.getProperty(\"java.io.tmpdir\"));\n    @SuppressWarnings(\"GoodTime\") /* COMMENT_0 */\n    String VAR_2 = VAR_1.currentTimeMillis() + \"-\";\n\n    for (int VAR_3 = 0; VAR_3 < VAR_4; VAR_3++) {\n      File VAR_5 = new File(VAR_0, VAR_2 + VAR_3);\n      if (VAR_5.mkdir()) {\n        return VAR_5;\n      }\n    }\n    throw new IllegalStateException(\n        \"Failed to create directory within \"\n            + VAR_4\n            + \" attempts (tried \"\n            + VAR_2\n            + \"0 to \"\n            + VAR_2\n            + (VAR_4 - 1)\n            + ')');\n  }",
    "func_graph_path": "google/guava/fec0dbc4634006a6162cfd4d0d09c962073ddf40/Files.java/vul/after/0.json",
    "diff_func": "--- func_before\n+++ func_after\n@@ -1,4 +1,5 @@\n @Beta\n+  @Deprecated\n   public static File createTempDir() {\n     File baseDir = new File(System.getProperty(\"java.io.tmpdir\"));\n     @SuppressWarnings(\"GoodTime\") // reading system time without TimeSource",
    "diff_line_info": {
        "deleted_lines": [],
        "added_lines": [
            "  @Deprecated"
        ]
    },
    "is_vul": true,
    "pr_url": "https://github.com/google/guava/pull/4000",
    "description": "This code has been reviewed and submitted internally. Feel free to discuss on\nthe PR, and we can submit follow-up changes as necessary.\n\nCommits:\n=====\n<p> Deprecate Files.createTempDir(), noting that better alternatives exist for Android as well as for users running Java 7 or later.\n\nRELNOTES=`io`: Deprecated `Files.createTempDir()`.\n\n9258dd9071c850dde0461f0f0cad81105442fdce"
}