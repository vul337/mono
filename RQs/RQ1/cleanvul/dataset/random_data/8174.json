{
  "id": 8174,
  "language": "JavaScript",
  "commit_url": "https://github.com/icplayer/icplayer/commit/2d8719bbfba8b71b4b669bef73b7f2f014b81881",
  "commit_sha": "2d8719bbfba8b71b4b669bef73b7f2f014b81881",
  "commit_msg": "Merge branch 'master' into test-8601",
  "pr_url": "https://github.com/icplayer/icplayer/pull/885",
  "pr_info": "[Ticket](https://app.assembla.com/spaces/lorepo/tickets/8601--pearson--ciso--zabezpieczenie-%C5%9Bcie%C5%BCek-40-50-przed-xss/details)\r\n[Lekcja testowa](https://test-8601-dot-mauthor-dev.ew.r.appspot.com)",
  "file_name": "addons/EdgeAnimation/src/presenter.js",
  "func_name": "if",
  "func_before": "function simpleContent(a,d,e){var b=document.getElementsByTagName(\"body\")[0],e=e||findNWC(b,compId),h,c,k,g;if(e){if(e.style.position!=\"absolute\"&&e.style.position!=\"relative\")e.style.position=\"relative\"}else e=b;for(var m=0;m<a.length;m++){b=a[m];b.type==\"image\"?(h=document.createElement(\"img\"),h.src=b.fill[1]):h=document.createElement(\"div\");h.id=b.id;g=h.style;if(b.type==\"text\"){if(c=b.font){if(c[0]&&c[0]!==\"\")g.fontFamily=c[0];typeof c[1]!=\"object\"&&(c[1]=[c[1]]);c[1][1]||(c[1][1]=\"px\");if(c[1][0]&&\n                c[1][0]!==\"\")g.fontSize=c[1][0]+c[1][1];if(c[2]&&c[2]!==\"\")g.color=safeColor(c[2]);if(c[3]&&c[3]!==\"\")g.fontWeight=c[3];if(c[4]&&c[4]!==\"\")g.textDecoration=b.font[4];if(c[5]&&c[5]!==\"\")g.fontStyle=b.font[5]}if(b.align&&b.align!=\"auto\")g.textAlign=b.align;if(b.position)g.position=b.position;if((!b.rect[2]||b.rect[2]<=0)&&(!b.rect[3]||b.rect[3]<=0))g.whiteSpace=\"nowrap\";h.innerHTML=b.text}if(d)h.className=d;g.position=\"absolute\";c=b.rect[0];k=b.rect[1];if(b.transform&&b.transform[0]){var j=b.transform[0][0],\n                f=splitUnits(j);if(f&&f.units&&(j=f.num,f.units==\"%\"&&b.rect[2])){var f=b.rect[2],l=splitUnits(b.rect[2]);if(l&&l.units)f=l.num,l.units==\"%\"&&(f=f/100*e.offsetWidth);j=j/100*f;e.offsetWidth>0&&(j=j/e.offsetWidth*100)}if(f=splitUnits(c))c=f.num;c+=j;if(!f.units)f.units=\"px\";c+=f.units;if(b.transform[0].length>1){j=b.transform[0][1];if((f=splitUnits(j))&&f.units)if(j=f.num,f.units==\"%\"&&b.rect[3]){f=b.rect[3];if((l=splitUnits(b.rect[3]))&&l.units)f=l.num,l.units==\"%\"&&(f=f/100*e.offsetHeight);j=j/100*\n                f;e.offsetHeight>0&&(j=j/e.offsetHeight*100)}if(f=splitUnits(k))k=f.num;k+=j;if(!f.units)f.units=\"px\";k+=f.units}}g.left=defaultUnits(c);g.top=defaultUnits(k);g.width=defaultUnits(b.rect[2]);g.height=defaultUnits(b.rect[3]);if(b.linkURL)htLookup[h.id]=b,h.onclick=function(){var a=htLookup[this.id];a.linkTarget?window.open(a.linkURL,a.linkTarget):window.location.href=a.linkURL},g.cursor=\"pointer\";e.appendChild(h);if(b.c)for(g=0;g<b.c.length;g++)simpleContent(b.c[g],d,h)}}",
  "func_after": "function simpleContent(a,d,e){var b=document.getElementsByTagName(\"body\")[0],e=e||findNWC(b,compId),h,c,k,g;if(e){if(e.style.position!=\"absolute\"&&e.style.position!=\"relative\")e.style.position=\"relative\"}else e=b;for(var m=0;m<a.length;m++){b=a[m];b.type==\"image\"?(h=document.createElement(\"img\"),h.src=b.fill[1]):h=document.createElement(\"div\");h.id=b.id;g=h.style;if(b.type==\"text\"){if(c=b.font){if(c[0]&&c[0]!==\"\")g.fontFamily=c[0];typeof c[1]!=\"object\"&&(c[1]=[c[1]]);c[1][1]||(c[1][1]=\"px\");if(c[1][0]&&\n                c[1][0]!==\"\")g.fontSize=c[1][0]+c[1][1];if(c[2]&&c[2]!==\"\")g.color=safeColor(c[2]);if(c[3]&&c[3]!==\"\")g.fontWeight=c[3];if(c[4]&&c[4]!==\"\")g.textDecoration=b.font[4];if(c[5]&&c[5]!==\"\")g.fontStyle=b.font[5]}if(b.align&&b.align!=\"auto\")g.textAlign=b.align;if(b.position)g.position=b.position;if((!b.rect[2]||b.rect[2]<=0)&&(!b.rect[3]||b.rect[3]<=0))g.whiteSpace=\"nowrap\";h.innerHTML=window.xssUtils.sanitize(b.text)}if(d)h.className=d;g.position=\"absolute\";c=b.rect[0];k=b.rect[1];if(b.transform&&b.transform[0]){var j=b.transform[0][0],\n                f=splitUnits(j);if(f&&f.units&&(j=f.num,f.units==\"%\"&&b.rect[2])){var f=b.rect[2],l=splitUnits(b.rect[2]);if(l&&l.units)f=l.num,l.units==\"%\"&&(f=f/100*e.offsetWidth);j=j/100*f;e.offsetWidth>0&&(j=j/e.offsetWidth*100)}if(f=splitUnits(c))c=f.num;c+=j;if(!f.units)f.units=\"px\";c+=f.units;if(b.transform[0].length>1){j=b.transform[0][1];if((f=splitUnits(j))&&f.units)if(j=f.num,f.units==\"%\"&&b.rect[3]){f=b.rect[3];if((l=splitUnits(b.rect[3]))&&l.units)f=l.num,l.units==\"%\"&&(f=f/100*e.offsetHeight);j=j/100*\n                f;e.offsetHeight>0&&(j=j/e.offsetHeight*100)}if(f=splitUnits(k))k=f.num;k+=j;if(!f.units)f.units=\"px\";k+=f.units}}g.left=defaultUnits(c);g.top=defaultUnits(k);g.width=defaultUnits(b.rect[2]);g.height=defaultUnits(b.rect[3]);if(b.linkURL)htLookup[h.id]=b,h.onclick=function(){var a=htLookup[this.id];a.linkTarget?window.open(a.linkURL,a.linkTarget):window.location.href=a.linkURL},g.cursor=\"pointer\";e.appendChild(h);if(b.c)for(g=0;g<b.c.length;g++)simpleContent(b.c[g],d,h)}}",
  "diff_func": "--- func_before\n+++ func_after\n function simpleContent(a,d,e){var b=document.getElementsByTagName(\"body\")[0],e=e||findNWC(b,compId),h,c,k,g;if(e){if(e.style.position!=\"absolute\"&&e.style.position!=\"relative\")e.style.position=\"relative\"}else e=b;for(var m=0;m<a.length;m++){b=a[m];b.type==\"image\"?(h=document.createElement(\"img\"),h.src=b.fill[1]):h=document.createElement(\"div\");h.id=b.id;g=h.style;if(b.type==\"text\"){if(c=b.font){if(c[0]&&c[0]!==\"\")g.fontFamily=c[0];typeof c[1]!=\"object\"&&(c[1]=[c[1]]);c[1][1]||(c[1][1]=\"px\");if(c[1][0]&&\n-                c[1][0]!==\"\")g.fontSize=c[1][0]+c[1][1];if(c[2]&&c[2]!==\"\")g.color=safeColor(c[2]);if(c[3]&&c[3]!==\"\")g.fontWeight=c[3];if(c[4]&&c[4]!==\"\")g.textDecoration=b.font[4];if(c[5]&&c[5]!==\"\")g.fontStyle=b.font[5]}if(b.align&&b.align!=\"auto\")g.textAlign=b.align;if(b.position)g.position=b.position;if((!b.rect[2]||b.rect[2]<=0)&&(!b.rect[3]||b.rect[3]<=0))g.whiteSpace=\"nowrap\";h.innerHTML=b.text}if(d)h.className=d;g.position=\"absolute\";c=b.rect[0];k=b.rect[1];if(b.transform&&b.transform[0]){var j=b.transform[0][0],\n+                c[1][0]!==\"\")g.fontSize=c[1][0]+c[1][1];if(c[2]&&c[2]!==\"\")g.color=safeColor(c[2]);if(c[3]&&c[3]!==\"\")g.fontWeight=c[3];if(c[4]&&c[4]!==\"\")g.textDecoration=b.font[4];if(c[5]&&c[5]!==\"\")g.fontStyle=b.font[5]}if(b.align&&b.align!=\"auto\")g.textAlign=b.align;if(b.position)g.position=b.position;if((!b.rect[2]||b.rect[2]<=0)&&(!b.rect[3]||b.rect[3]<=0))g.whiteSpace=\"nowrap\";h.innerHTML=window.xssUtils.sanitize(b.text)}if(d)h.className=d;g.position=\"absolute\";c=b.rect[0];k=b.rect[1];if(b.transform&&b.transform[0]){var j=b.transform[0][0],\n                 f=splitUnits(j);if(f&&f.units&&(j=f.num,f.units==\"%\"&&b.rect[2])){var f=b.rect[2],l=splitUnits(b.rect[2]);if(l&&l.units)f=l.num,l.units==\"%\"&&(f=f/100*e.offsetWidth);j=j/100*f;e.offsetWidth>0&&(j=j/e.offsetWidth*100)}if(f=splitUnits(c))c=f.num;c+=j;if(!f.units)f.units=\"px\";c+=f.units;if(b.transform[0].length>1){j=b.transform[0][1];if((f=splitUnits(j))&&f.u",
  "diff_source": "custom"
}